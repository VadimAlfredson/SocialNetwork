{"version":3,"file":"static/js/346.c9c6b5ae.chunk.js","mappings":"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","sources":["webpack://react-vadim/./src/components/Users/users.module.css?9211","webpack://react-vadim/./src/components/common/Paginator/paginator.module.css?28dc","components/common/Paginator/Paginator.tsx","components/Users/Users.tsx","components/Users/UsersContainer.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"usersComponent\":\"users_usersComponent__8nRZo\",\"itemUser\":\"users_itemUser__x5owb\",\"avatar\":\"users_avatar__erVMZ\",\"infoUser\":\"users_infoUser__y2HtR\",\"followButton\":\"users_followButton__ExoVv\",\"massageButton\":\"users_massageButton__-K1Un\",\"buttonStyle\":\"users_buttonStyle__jG05x\",\"nameUser\":\"users_nameUser__9hBV1\",\"statusUser\":\"users_statusUser__F2WyE\",\"navLinkToLogin\":\"users_navLinkToLogin__wH+jC\"};","// extracted by mini-css-extract-plugin\nexport default {\"activePage\":\"paginator_activePage__eWc4N\",\"paginator\":\"paginator_paginator__QVHI9\",\"pageNumber\":\"paginator_pageNumber__7A1XW\"};","import React, {FC, useState} from \"react\";\r\nimport s from \"../Paginator/paginator.module.css\"\r\n\r\ntype PropsType = {\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChange: (p: number) => void\r\n}\r\n\r\nlet Paginator: FC<PropsType> = (props) => {\r\n    let pageCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    ;\r\n    let portionSize = 10\r\n    let portionCount = Math.ceil(pageCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionNumber = portionNumber * portionSize\r\n    return (\r\n            <div className={s.paginator}>\r\n                {portionNumber > 1 &&\r\n                <button className={s.pageNumber} onClick={() => {setPortionNumber(portionNumber - 1)}}>left</button>\r\n                }\r\n                {pages\r\n                    .filter(p => p >= leftPortionNumber && p <= rightPortionNumber)\r\n                    .map(p => {\r\n                        // @ts-ignore\r\n                        return <span className={props.currentPage === p ? s.activePage : s.pageNumber}\r\n                                     onClick={() => {\r\n                                         props.onPageChange(p)\r\n                                     }} key={p}\r\n                        >{p}</span>\r\n                    }\r\n                )}\r\n                {portionCount > portionNumber &&\r\n                <button className={s.pageNumber}\r\n                onClick={() => {setPortionNumber(portionNumber + 1)}}\r\n                >right</button>\r\n                }\r\n            </div>\r\n    )\r\n};\r\n\r\nexport default Paginator","import React, {FC, useEffect, useState} from \"react\";\r\nimport {UserType} from \"../../Redux/users_reducers\";\r\nimport s from \"../Users/users.module.css\"\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n\r\ntype PropsType = {\r\n    users: Array<UserType>\r\n    totalUsersCount: number\r\n    followingInProgress: Array<number>\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChange: (pageNumber: number) => void\r\n    onFollowChange: (id: number, followed: boolean) => void\r\n    isFetching: boolean\r\n    isAuth: boolean\r\n}\r\n\r\nlet Users: FC<PropsType> = (props) => {\r\n    const [state, setState] = useState(false)\r\n    useEffect(()=>{state != props.isAuth ? setState(props.isAuth) : console.log('useEffect')},[props.isAuth])\r\n    return (\r\n        <div className={s.usersComponent}>\r\n            <Paginator\r\n                totalUsersCount={props.totalUsersCount}\r\n                pageSize={props.pageSize}\r\n                currentPage={props.currentPage}\r\n                onPageChange={props.onPageChange}\r\n            />\r\n            {props.isFetching ? <Preloader/> :\r\n                <div>\r\n                    {\r\n                        props.users.map((u: UserType) => <div className={s.itemUser} key={u.id}>\r\n                            <div className={s.avatar}>\r\n                                <NavLink to={'/profile/' + u.id}>\r\n                                    <img src={u.photos.small !== null ? u.photos.small :\r\n                                        'https://shapka-youtube.ru/wp-content/uploads/2021/02/avatarka-dlya-skaypa-dlya-parney.jpg'\r\n                                    } alt={'картинка'}/>\r\n                                </NavLink>\r\n                            </div>\r\n                            <div className={s.followButton}>\r\n                                {props.isAuth ?\r\n                                    <button className={s.buttonStyle}\r\n                                            disabled={props.followingInProgress.includes(u.id)}\r\n                                            onClick={() => (props.onFollowChange(u.id, u.followed))\r\n                                            }>{u.followed ? 'Unfollow' : 'Follow'}\r\n                                    </button> : <NavLink className={s.navLinkToLogin} to={\"../login\"}>\r\n                                        Register to subscribe\r\n                                    </NavLink>}\r\n                            </div>\r\n                            <div className={s.massageButton}>\r\n                                {props.isAuth &&\r\n                                    <button className={s.buttonStyle}\r\n                                            onClick={() => {\r\n                                            }}>Message\r\n                                    </button>}\r\n                            </div>\r\n\r\n                            <div className={s.infoUser}>\r\n                                <div className={s.nameUser}>{u.name}</div>\r\n                                <div className={s.statusUser}>{u.status}</div>\r\n                            </div>\r\n                        </div>)}\r\n                </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport {AddStateType} from \"../../Redux/reduxStore\";\r\nimport {\r\n    followed,\r\n    setCurrentPage,\r\n    toggleIsFetching,\r\n    setTotalUsersCount,\r\n    setUsers,\r\n    toggleIsFollowing,\r\n    getUsersThunkCreator,\r\n    onPageChangeThunkCreator,\r\n    onFollowChangeThunkCreator, UserType,\r\n} from \"../../Redux/users_reducers\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {withAuthNavigate} from \"../hoc/witAuthNavigate\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress, getIsAuth, getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../Redux/users_selectors\";\r\n\r\ntype PropsType = {\r\n    currentPage: number\r\n    pageSize: number\r\n    isFetching: boolean\r\n    users: Array<UserType>\r\n    totalUsersCount: number\r\n    isAuth: boolean\r\n\r\n    getUsersThunkCreator: (currentPage: number, pageSize: number) => void\r\n    onPageChangeThunkCreator: (pageNumber: number, pageSize: number) => void\r\n    onFollowChangeThunkCreator: (userId: number, follow: boolean) => void\r\n    followingInProgress: Array<number>\r\n}\r\n\r\n\r\nclass UsersContainer extends React.Component<PropsType> {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsersThunkCreator(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChange = (pageNumber: number) => {\r\n        this.props.onPageChangeThunkCreator(pageNumber, this.props.pageSize)\r\n    }\r\n\r\n    onFollowChange = (userId: number, follow: boolean) => {\r\n        this.props.onFollowChangeThunkCreator(userId, follow)\r\n    }\r\n\r\n    render(): React.ReactNode {\r\n        return <>\r\n                <Users\r\n                    isAuth={this.props.isAuth}\r\n                    isFetching={this.props.isFetching}\r\n                    users={this.props.users}\r\n                    pageSize={this.props.pageSize}\r\n                    currentPage={this.props.currentPage}\r\n                    totalUsersCount={this.props.totalUsersCount}\r\n                    onPageChange={this.onPageChange}\r\n                    onFollowChange={this.onFollowChange}\r\n                    followingInProgress={this.props.followingInProgress}\r\n                />\r\n        </>\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state: AddStateType) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        isAuth: getIsAuth(state),\r\n        isFetching: getIsFetching(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,\r\n        {\r\n            followed,\r\n            setUsers,\r\n            setCurrentPage,\r\n            setTotalUsersCount,\r\n            toggleIsFetching,\r\n            toggleIsFollowing,\r\n            getUsersThunkCreator,\r\n            onPageChangeThunkCreator,\r\n            onFollowChangeThunkCreator,\r\n        })\r\n)(UsersContainer)"],"names":["props","pageCount","Math","ceil","totalUsersCount","pageSize","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionNumber","rightPortionNumber","className","s","onClick","filter","p","map","currentPage","onPageChange","state","setState","useEffect","isAuth","console","log","isFetching","Preloader","users","u","to","id","src","photos","small","alt","disabled","followingInProgress","includes","onFollowChange","followed","name","status","UsersContainer","pageNumber","onPageChangeThunkCreator","userId","follow","onFollowChangeThunkCreator","this","getUsersThunkCreator","React","compose","connect","getUsers","getPageSize","getTotalUsersCount","getCurrentPage","getFollowingInProgress","getIsAuth","getIsFetching","setUsers","setCurrentPage","setTotalUsersCount","toggleIsFetching","toggleIsFollowing"],"sourceRoot":""}