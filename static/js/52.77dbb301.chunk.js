"use strict";(self.webpackChunkreact_vadim=self.webpackChunkreact_vadim||[]).push([[52],{3566:function(e,s,n){n.r(s),n.d(s,{default:function(){return A}});var a=n(885),i=n(2791),o={dialogs:"Dialogs_dialogs__GBcEp",dialogsUsers:"Dialogs_dialogsUsers__LBmt6",dialogDiv:"Dialogs_dialogDiv__uycfj",dialogItem:"Dialogs_dialogItem__k9CuM",getMoreDialogs:"Dialogs_getMoreDialogs__n6h0D",addDialog:"Dialogs_addDialog__OC9fh",active:"Dialogs_active__zK1A-",titleMessages:"Dialogs_titleMessages__2oe-t",messages:"Dialogs_messages__Ly6dr",addMessage:"Dialogs_addMessage__+SI4K",inputAddMessage:"Dialogs_inputAddMessage__KTTQa",buttonAddMessage:"Dialogs_buttonAddMessage__gnvoU",divAddMessage:"Dialogs_divAddMessage__EcDqL",iconMessage:"Dialogs_iconMessage__L+5-e",message:"Dialogs_message__pyaWz",divMessage:"Dialogs_divMessage__lpG8t",messageForm:"Dialogs_messageForm__5uYWH",divOwnerMessage:"Dialogs_divOwnerMessage__vv-7J",ownerMessageForm:"Dialogs_ownerMessageForm__zHNC0",textMessage:"Dialogs_textMessage__rleMB",ownerTextMessage:"Dialogs_ownerTextMessage__Sdmym",h3text:"Dialogs_h3text__5icbU",ownerMessageViewed:"Dialogs_ownerMessageViewed__boBPG",textMessageViewed:"Dialogs_textMessageViewed__i1cxU",deleteMessageOn:"Dialogs_deleteMessageOn__Uwr8k",deleteMessageOff:"Dialogs_deleteMessageOff__FcrKb",deleteMessageIcon:"Dialogs_deleteMessageIcon__unqLp",activeMessage:"Dialogs_activeMessage__ie+E3",warningDeleteMessage:"Dialogs_warningDeleteMessage__6S48Q",companionName:"Dialogs_companionName__AzAMZ"},t=n(184),r=function(e){var s=(0,i.useState)(!1),n=(0,a.Z)(s,2),r=n[0],d=n[1],l=(0,i.useState)(!1),g=(0,a.Z)(l,2),c=g[0],u=g[1],f=e.message.replace(/&quot;/gi,'"').replace(/&#171;/gi,'"').replace(/&#187;/gi,'"').replace(/&#39;/gi,"'");console.log(e.senderId);var m=e.senderId===e.OwnerId?e.ownerPhoto||e.defaultPhoto:e.companionIcon;return(0,t.jsx)("div",{className:r||c?o.activeMessage:o.none,children:(0,t.jsxs)("div",{className:e.senderId===e.OwnerId?o.divOwnerMessage:o.divMessage,onClick:function(){d(!!c||function(e){return!e})},children:[(0,t.jsx)("div",{children:(0,t.jsx)("img",{className:o.iconMessage,src:m})}),(0,t.jsx)("div",{className:e.senderId===e.OwnerId?o.ownerMessageForm:o.messageForm,children:(0,t.jsxs)("a",{className:e.senderId===e.OwnerId?e.viewed?o.ownerTextMessage:o.ownerMessageViewed:e.viewed?o.textMessage:o.textMessageViewed,children:[f,(0,t.jsx)("br",{}),(0,t.jsx)("div",{className:r&&!c?o.deleteMessageOn:o.deleteMessageOff,onClick:function(){d(!0),u((function(e){return!e}))},children:(0,t.jsx)("img",{className:o.deleteMessageIcon,src:"/SocialNetwork/free-icon-delete-6467128.png"})})]})}),(0,t.jsxs)("div",{className:c?o.warningDeleteMessage:o.deleteMessageOff,children:["Are you sure you want to delete the message?",(0,t.jsx)("br",{}),(0,t.jsx)("button",{onClick:function(){e.onDeleteMessageChange(e.messageId,e.senderId===e.OwnerId?e.recipientId:e.senderId),u(!1)},children:"Yes"}),(0,t.jsx)("button",{onClick:function(){u(!1)},children:"No"})]})]})})},d=n(5705),l=n(132),g=function(e){var s=l.Z_();return(0,t.jsx)(d.J9,{initialValues:{textMessage:""},validateOnBlur:!0,onSubmit:function(s,n){var a=n.resetForm;!function(s){e.onMessageSentChange(e.dialogId,s)}(s.textMessage),console.log(s.textMessage),a({values:void 0})},validationSchema:s,children:function(e){var s=e.values,n=e.handleBlur,a=e.handleChange,i=e.isValid,r=e.handleSubmit,d=e.dirty;return(0,t.jsxs)("div",{className:o.divAddMessage,children:[(0,t.jsx)("input",{className:o.inputAddMessage,type:"textarea",name:"textMessage",onChange:a,onBlur:n,value:s.textMessage,placeholder:"Add new message"}),(0,t.jsx)("br",{}),(0,t.jsx)("button",{className:o.buttonAddMessage,disabled:!i&&!d,onClick:function(){r()},type:"submit",children:"Send"})]})}})},c=function(e){return(0,t.jsx)(g,{dialogId:e.dialogId,onMessageSentChange:e.onMessageSentChange})},u=n(894),f=n(6871),m=n(3504),_=n(8755),h=function(e){return e.dialogs.dialogs},v=function(e){return e.dialogs.messages},x=function(e){return e.dialogs.dialogId},M=function(e){return e.dialogs.companionIcon},p=function(e){return e.dialogs.companionId},D=function(e){return e.dialogs.companionName},w=n(7368),j=n(4852),b=n(6259),C=n(4554),Z=n(6314),I=n(493),N=n(890),S=n(4073),k=function(){var e=(0,_.CG)(h),s=(0,_.CG)(v),n=(0,_.CG)(x),d=(0,_.CG)(w.nT),l=(0,_.CG)(w.Pg),g=(0,_.CG)(M),k=(0,_.CG)(D),O=(0,_.CG)(p),y=(0,_.CG)(w.XD),A=(0,f.s0)(),P=(0,i.useState)(10),G=(0,a.Z)(P,2),L=G[0],F=G[1],V=(0,_.TL)(),T=function(e,s){V((0,u.EF)(e,s))};(0,i.useEffect)((function(){return V((0,u.kp)()),function(){V((0,u.QR)())}}),[]);var B=function(s){V((0,u.rm)(s)),function(s){e.find((function(e){return e.id===s?V((0,u.s_)({photo:e.photos.large?e.photos.large:l,userName:e.userName,companionId:e.id})):console.log("sd")}))}(s),A("/dialogs/"+s)},z=(0,i.useState)([]),E=(0,a.Z)(z,2),U=E[0],R=E[1];(0,i.useEffect)((function(){var s=[];if(e.length>0)for(var n=0;n<(e.length>L?L:e.length);n++)s.push(e[n]);R(s),console.log(s)}),[e,n,L]);var q=e[0]?U.map((function(e){return(0,t.jsx)(j.ZP,{onClick:function(){B(e.id)},sx:{backgroundColor:"#151515",m:"5px 0 0 0","&:hover":{border:"1px solid rgba(200,150,0)",backgroundColor:"rgba(200,150,0,0.1)",cursor:"pointer"}},children:(0,t.jsx)(b.Z,{primary:e.userName})})})):(0,t.jsx)(m.OL,{to:"/users",children:"Search friends"}),H=s[0]?s.map((function(e){return(0,t.jsx)(r,{message:e.body,senderId:e.senderId,OwnerId:d,companionIcon:g,ownerPhoto:y,viewed:e.viewed,onDeleteMessageChange:T,messageId:e.id,recipientId:e.recipientId,defaultPhoto:l},e.id)})):(0,t.jsx)("div",{children:(0,t.jsx)("h3",{className:o.h3text,children:"start chatting first"})});return(0,t.jsxs)(C.Z,{display:"flex",flexDirection:{xs:"column",sm:"row"},children:[(0,t.jsxs)(Z.Z,{display:"flex",width:{xs:"100%",sm:"250px"},flexDirection:"column",children:[(0,t.jsxs)(I.Z,{children:[(0,t.jsxs)(j.ZP,{onClick:function(){A("/users")},sx:{backgroundColor:"#151515",borderRadius:"5px 5px 0 0","&:hover":{border:"1px solid rgba(200,150,0)",backgroundColor:"rgba(200,150,0,0.1)",cursor:"pointer"}},children:[(0,t.jsx)(S.Z,{color:"warning"}),(0,t.jsx)(b.Z,{primary:(0,t.jsx)(N.Z,{color:"#c89600",textAlign:"center",children:"add dialog"})})]}),q]}),L<e.length&&(0,t.jsx)("div",{className:o.getMoreDialogs,onClick:function(){return F((function(e){return e+5}))},children:"Get more dialogs"})]}),(0,t.jsxs)(C.Z,{display:"flex",flexDirection:"column",flexGrow:1,children:[(0,t.jsx)(m.OL,{to:"/profile/".concat(O),className:o.companionName,children:k}),(0,t.jsx)("div",{className:o.message,children:H}),(0,t.jsx)("div",{className:o.addMessage,children:(0,t.jsx)(c,{dialogId:n,onMessageSentChange:function(e,s){V((0,u.C7)(e,s))}})})]})]})},O=n(7781),y=n(3502),A=(0,O.qC)(y.S)(k)},3502:function(e,s,n){n.d(s,{S:function(){return f}});var a=n(1413),i=n(5671),o=n(3144),t=n(136),r=n(7277),d=n(2791),l=n(8687),g=n(6871),c=n(184),u=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var s=function(s){(0,t.Z)(d,s);var n=(0,r.Z)(d);function d(){return(0,i.Z)(this,d),n.apply(this,arguments)}return(0,o.Z)(d,[{key:"render",value:function(){return this.props.isAuth?(0,c.jsx)(e,(0,a.Z)({},this.props)):(0,c.jsx)(g.Fg,{to:"/login"})}}]),d}(d.Component);return(0,l.$j)(u)(s)}},627:function(e,s,n){function a(e){return"string"===typeof e}n.d(s,{Z:function(){return a}})},4073:function(e,s,n){var a=n(4836);s.Z=void 0;var i=a(n(5649)),o=n(184),t=(0,i.default)((0,o.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM17 11h-4v4h-2v-4H7V9h4V5h2v4h4v2z"}),"AddComment");s.Z=t},493:function(e,s,n){n.d(s,{Z:function(){return v}});var a=n(3366),i=n(7462),o=n(2791),t=n(8182),r=n(4419),d=n(6934),l=n(1402),g=n(6199),c=n(5878),u=n(1217);function f(e){return(0,u.Z)("MuiList",e)}(0,c.Z)("MuiList",["root","padding","dense","subheader"]);var m=n(184),_=["children","className","component","dense","disablePadding","subheader"],h=(0,d.ZP)("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,s){var n=e.ownerState;return[s.root,!n.disablePadding&&s.padding,n.dense&&s.dense,n.subheader&&s.subheader]}})((function(e){var s=e.ownerState;return(0,i.Z)({listStyle:"none",margin:0,padding:0,position:"relative"},!s.disablePadding&&{paddingTop:8,paddingBottom:8},s.subheader&&{paddingTop:0})})),v=o.forwardRef((function(e,s){var n=(0,l.Z)({props:e,name:"MuiList"}),d=n.children,c=n.className,u=n.component,v=void 0===u?"ul":u,x=n.dense,M=void 0!==x&&x,p=n.disablePadding,D=void 0!==p&&p,w=n.subheader,j=(0,a.Z)(n,_),b=o.useMemo((function(){return{dense:M}}),[M]),C=(0,i.Z)({},n,{component:v,dense:M,disablePadding:D}),Z=function(e){var s=e.classes,n={root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]};return(0,r.Z)(n,f,s)}(C);return(0,m.jsx)(g.Z.Provider,{value:b,children:(0,m.jsxs)(h,(0,i.Z)({as:v,className:(0,t.Z)(Z.root,c),ref:s,ownerState:C},j,{children:[w,d]}))})}))},6199:function(e,s,n){var a=n(2791).createContext({});s.Z=a}}]);
//# sourceMappingURL=52.77dbb301.chunk.js.map