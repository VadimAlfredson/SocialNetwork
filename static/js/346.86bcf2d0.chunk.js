"use strict";(self.webpackChunkreact_vadim=self.webpackChunkreact_vadim||[]).push([[346],{8346:function(e,s,n){n.r(s),n.d(s,{default:function(){return T}});var o=n(5671),t=n(3144),r=n(136),a=n(7277),i=n(2791),l=n(6434),u=n(885),c="users_usersComponent__8nRZo",g="users_itemUser__x5owb",h="users_avatar__erVMZ",p="users_infoUser__y2HtR",d="users_followButton__ExoVv",C="users_massageButton__-K1Un",f="users_buttonStyle__jG05x",_="users_nameUser__9hBV1",m="users_statusUser__F2WyE",v="users_navLinkToLogin__wH+jC",j=n(3504),x="paginator_activePage__eWc4N",k="paginator_paginator__QVHI9",w="paginator_pageNumber__7A1XW",U=n(184),P=function(e){for(var s=Math.ceil(e.totalUsersCount/e.pageSize),n=[],o=1;o<=s;o++)n.push(o);var t=Math.ceil(s/10),r=(0,i.useState)(1),a=(0,u.Z)(r,2),l=a[0],c=a[1],g=10*(l-1)+1,h=10*l;return(0,U.jsxs)("div",{className:k,children:[l>1&&(0,U.jsx)("button",{className:w,onClick:function(){c(l-1)},children:"left"}),n.filter((function(e){return e>=g&&e<=h})).map((function(s){return(0,U.jsx)("span",{className:e.currentPage===s?x:w,onClick:function(){e.onPageChange(s)},children:s},s)})),t>l&&(0,U.jsx)("button",{className:w,onClick:function(){c(l+1)},children:"right"})]})},F=n(4374),N=function(e){var s=(0,i.useState)(!1),n=(0,u.Z)(s,2),o=n[0],t=n[1];return(0,i.useEffect)((function(){o!=e.isAuth?t(e.isAuth):console.log("useEffect")}),[e.isAuth]),(0,U.jsxs)("div",{className:c,children:[(0,U.jsx)(P,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChange:e.onPageChange}),e.isFetching?(0,U.jsx)(F.Z,{}):(0,U.jsx)("div",{children:e.users.map((function(s){return(0,U.jsxs)("div",{className:g,children:[(0,U.jsx)("div",{className:h,children:(0,U.jsx)(j.OL,{to:"/profile/"+s.id,children:(0,U.jsx)("img",{src:null!==s.photos.small?s.photos.small:"https://shapka-youtube.ru/wp-content/uploads/2021/02/avatarka-dlya-skaypa-dlya-parney.jpg",alt:"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"})})}),(0,U.jsx)("div",{className:d,children:e.isAuth?(0,U.jsx)("button",{className:f,disabled:e.followingInProgress.includes(s.id),onClick:function(){return e.onFollowChange(s.id,s.followed)},children:s.followed?"Unfollow":"Follow"}):(0,U.jsx)(j.OL,{className:v,to:"../login",children:"Register to subscribe"})}),(0,U.jsx)("div",{className:C,children:e.isAuth&&(0,U.jsx)("button",{className:f,onClick:function(){e.onDialogUserChange(s.id)},children:"Message"})}),(0,U.jsxs)("div",{className:p,children:[(0,U.jsx)("div",{className:_,children:s.name}),(0,U.jsx)("div",{className:m,children:s.status})]})]},s.id)}))})]})},b=n(9662),y=n(7781),Z=n(2931),S=n(443),A=function(e){(0,r.Z)(n,e);var s=(0,a.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=s.call.apply(s,[this].concat(r))).onPageChange=function(s){e.props.onPageChangeThunkCreator(s,e.props.pageSize)},e.onFollowChange=function(s,n){e.props.onFollowChangeThunkCreator(s,n)},e.onDialogUserChange=function(s){e.props.putDialogUserThunkCreator(s)},e}return(0,t.Z)(n,[{key:"componentDidMount",value:function(){this.props.getUsersThunkCreator(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(N,{isAuth:this.props.isAuth,isFetching:this.props.isFetching,users:this.props.users,pageSize:this.props.pageSize,currentPage:this.props.currentPage,totalUsersCount:this.props.totalUsersCount,onPageChange:this.onPageChange,onFollowChange:this.onFollowChange,followingInProgress:this.props.followingInProgress,onDialogUserChange:this.onDialogUserChange})})}}]),n}(i.Component),T=(0,y.qC)((0,l.$j)((function(e){return{users:(0,Z.Rf)(e),pageSize:(0,Z.b7)(e),totalUsersCount:(0,Z.qZ)(e),currentPage:(0,Z.FZ)(e),followingInProgress:(0,Z.yg)(e),isAuth:(0,Z.Od)(e),isFetching:(0,Z.ab)(e)}}),{followed:b.Gp,setUsers:b.HM,setCurrentPage:b.D4,setTotalUsersCount:b.K1,toggleIsFetching:b.MO,toggleIsFollowing:b.zF,getUsersThunkCreator:b.Uk,onPageChangeThunkCreator:b.Pv,onFollowChangeThunkCreator:b.uq,putDialogUserThunkCreator:S.yZ}))(A)}}]);
//# sourceMappingURL=346.86bcf2d0.chunk.js.map