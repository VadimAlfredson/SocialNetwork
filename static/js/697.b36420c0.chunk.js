"use strict";(self.webpackChunkreact_vadim=self.webpackChunkreact_vadim||[]).push([[697],{6502:function(o,e,n){n.d(e,{Ai:function(){return t},Z6:function(){return i},gO:function(){return r}});var t=function(o){return o.profile.profile},i=function(o){return o.profile.status},r=function(o){return o.profile.follow}},5697:function(o,e,n){n.r(e),n.d(e,{default:function(){return U}});var t=n(2791),i=n(5992),r=n(2982),s=n(5184),l={createText:"MyPosts_createText__T-jsH",buttonAddPost:"MyPosts_buttonAddPost__QtbW7",addpost:"MyPosts_addpost__+irvX"},u=n(5705),a=n(184),f=t.memo((function(o){return console.log("rerenderPost"),(0,a.jsx)(u.J9,{initialValues:{newPost:""},validateOnBlur:!0,onSubmit:function(e,n){var t=n.resetForm;o.createNewPost(e.newPost),console.log(e.newPost),t({values:void 0})},children:function(o){var e=o.values,n=o.handleBlur,t=o.handleChange,i=o.isValid,r=o.handleSubmit,s=o.dirty;return(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"input",name:"newPost",onChange:t,placeholder:"Add text",className:l.createText,value:e.newPost,onBlur:n}),(0,a.jsx)("button",{className:l.buttonAddPost,disabled:!i&&!s,onClick:function(){r()},type:"submit",children:"Send"})]})}})})),c=function(o){(0,t.useEffect)((function(){console.log(o.posts)}),(0,r.Z)(o.posts));var e=o.posts.map((function(o){return(0,a.jsx)(s.Z,{message:o.message,likeCount:o.likeCount,ownerLike:o.ownerLike,id:o.id},o.id)}));return console.log("Rerender"),(0,a.jsxs)("div",{children:[(0,a.jsx)(f,{createNewPost:o.createNewPost}),(0,a.jsx)("div",{className:l.post,children:e})]})},d=(0,n(8687).$j)((function(o){return{posts:o.profile.posts,newPostText:o.profile.newPostText}}),(function(o){return{createNewPost:function(e){o((0,i.HP)(e))}}}))(c),x=n(885),p={profileClass:"Profile_profileClass__eq7lO",profileInfo:"Profile_profileInfo__OVCEI",avatarSide:"Profile_avatarSide__M2bsj",avatarImg:"Profile_avatarImg__3Egiz",fullPhoto:"Profile_fullPhoto__Yz2Tr",inputPhoto:"Profile_inputPhoto__RonUU",labelUpdatePhoto:"Profile_labelUpdatePhoto__rIkOS",name:"Profile_name__7N8LX",status:"Profile_status__pnE9e",aboutMe:"Profile_aboutMe__UjygN",editMode:"Profile_editMode__71+RX",informationUser:"Profile_informationUser__7qzE9",buttonFollow:"Profile_buttonFollow__w3i6m",buttonUnfollow:"Profile_buttonUnfollow__wXenc",buttonEditInfo:"Profile_buttonEditInfo__iPGTb",profilePost:"Profile_profilePost__xVBaE",statusEditImg:"Profile_statusEditImg__xboN9"},h=n(4374),_=n(8755),w=n(4554),j=n(890),P=n(1214),g=n(4919),m=function(o){var e=(0,_.TL)(),n=(0,t.useState)(!1),r=(0,x.Z)(n,2),s=r[0],l=r[1],u=(0,t.useState)(o.status),f=(0,x.Z)(u,2),c=f[0],d=f[1];return(0,t.useEffect)((function(){d(o.status)}),[o.status]),(0,t.useEffect)((function(){console.log(o.ownerId===o.userId)}),[o.userId]),(0,a.jsxs)(w.Z,{children:["  ",!s&&(0,a.jsxs)(w.Z,{display:"flex",flexDirection:"row",alignItems:"center",m:"0 auto",justifyContent:"center",children:[(0,a.jsx)(j.Z,{variant:"subtitle1",color:"#D0D3D4",children:o.status||""}),(0,a.jsx)("span",{onClick:function(){return l(!o.isOwner)},children:o.ownerId===o.userId&&(0,a.jsx)(g.Z,{color:"info",sx:{ml:"10px"}})})]}),(0,a.jsx)(w.Z,{display:"flex",justifyContent:"center",margin:"auto",children:s&&(0,a.jsx)(P.Z,{id:"status",label:"Status",variant:"standard",onChange:function(o){d(o.currentTarget.value)},autoFocus:!0,value:c,onBlur:function(){l(!1),c!==o.status&&e((0,i.FY)(c))},color:"info",fullWidth:!0,sx:{m:"0 20px",maxWidth:"300px"}})})]})},v=n(7368),b=n(7621),Z=n(2169),C=n(6151),I=n(7750),O=n(3368),k=n(5776),y=function(o){var e=o.contactTitle,n=o.contactValue;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("b",{children:[e,":"]})," ",n]})},D=function(o){var e=o.profile;o.isOwner;return(0,a.jsxs)(w.Z,{color:"#D0D3D4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"looking for a job:"})," ",e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"looking for a job description:"})," ",e.lookingForAJobDescription]})]}),(0,a.jsxs)("div",{className:p.aboutMe,children:[(0,a.jsx)("b",{children:"About me:"}),e.aboutMe]})]}),(0,a.jsx)("div",{className:p.contacts,children:Object.keys(e.contacts).filter((function(o){return e.contacts[o]})).map((function(o){return(0,a.jsx)(y,{contactTitle:o,contactValue:e.contacts[o]},o)}))})]})},E=function(o){var e=(0,_.CG)(v.nT),n=(0,_.CG)((function(o){return o.auth.defaultPhoto})),i=(0,t.useState)(!1),r=(0,x.Z)(i,2),s=(r[0],r[1]);return(0,t.useEffect)((function(){s(!1)}),[o.profile.userId]),o.profile?(0,a.jsxs)(b.Z,{sx:{display:"flex",borderRadius:"5px",flexDirection:{xs:"column",sm:"row"},background:"rgba(0, 0, 0, 0)",gap:1,flexGrow:1},children:[(0,a.jsxs)(w.Z,{display:"flex",flexDirection:"column",children:[(0,a.jsx)(Z.Z,{component:"img",image:o.profile.photos.large?o.profile.photos.large:n,sx:{width:"300px",height:"300px",borderRadius:"5px",m:"auto"}}),(0,a.jsxs)(w.Z,{display:"flex",flexDirection:"row",m:"5px auto",width:"300px",gap:"5px",children:[e!==o.profile.userId&&o.isOwner&&(0,a.jsx)(C.Z,{color:o.follow?"info":"warning",variant:o.follow?"outlined":"contained",onClick:function(){o.onFollowProfileChange(o.profile.userId,o.follow)},children:o.follow?(0,a.jsx)(O.Z,{}):(0,a.jsx)(I.Z,{})}),e!==o.profile.userId&&o.isOwner&&(0,a.jsx)(C.Z,{color:"info",variant:"contained",startIcon:(0,a.jsx)(k.Z,{}),fullWidth:!0,onClick:function(){o.onPutDialogOnProfileChange(o.profile.userId)},children:"Write new message"})]})]}),(0,a.jsxs)(w.Z,{display:"flex",flexDirection:"column",sx:{flexGrow:1},width:"100%",children:[(0,a.jsx)(j.Z,{color:"#D0D3D4",sx:{m:"10px auto"},variant:"h5",children:o.profile.fullName}),(0,a.jsx)(m,{status:o.status,isOwner:o.isOwner,ownerId:e,userId:o.profile.userId}),(0,a.jsx)(D,{profile:o.profile,isOwner:o.isOwner})]})]}):(0,a.jsx)(h.Z,{})},T=function(o){return(0,a.jsxs)(w.Z,{display:"flex",flexGrow:1,flexDirection:"column",children:[(0,a.jsx)(E,{isOwner:o.isOwner,profile:o.profile,status:o.status,follow:o.follow,onFollowProfileChange:o.onFollowProfileChange,onPutDialogOnProfileChange:o.onPutDialogOnProfileChange}),(0,a.jsx)(d,{})]})},N=n(6871),A=n(3502),F=n(3418),S=n(894),G=n(6502),U=(0,A.S)((function(){var o=(0,N.UO)().userId,e=Number(o);console.log((0,N.UO)());var n=(0,_.TL)(),r=(0,_.CG)(G.Ai),s=(0,_.CG)(G.Z6),l=(0,_.CG)(G.gO),u=(0,_.CG)(v.nT),f=(0,N.s0)();console.log(o),(0,t.useEffect)((function(){e||(e=u),n((0,i.Hw)(e)),n((0,i.xD)(e)),n((0,i.fB)(e))}),[o]),(0,t.useEffect)((function(){}),[]);return(0,a.jsx)(T,{isOwner:!!o,profile:r,status:s,follow:l,onFollowProfileChange:function(o,e){n((0,i.Gv)(o,e)),n((0,F.pt)(!0))},onPutDialogOnProfileChange:function(o){f("/dialogs/".concat(o)),n((0,S.yZ)(o))}})}))},3502:function(o,e,n){n.d(e,{S:function(){return x}});var t=n(1413),i=n(5671),r=n(3144),s=n(136),l=n(7277),u=n(2791),a=n(8687),f=n(6871),c=n(184),d=function(o){return{isAuth:o.auth.isAuth}},x=function(o){var e=function(e){(0,s.Z)(u,e);var n=(0,l.Z)(u);function u(){return(0,i.Z)(this,u),n.apply(this,arguments)}return(0,r.Z)(u,[{key:"render",value:function(){return this.props.isAuth?(0,c.jsx)(o,(0,t.Z)({},this.props)):(0,c.jsx)(f.Fg,{to:"/login"})}}]),u}(u.Component);return(0,a.$j)(d)(e)}}}]);
//# sourceMappingURL=697.b36420c0.chunk.js.map