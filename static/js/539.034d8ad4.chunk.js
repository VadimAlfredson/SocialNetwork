"use strict";(self.webpackChunkreact_vadim=self.webpackChunkreact_vadim||[]).push([[539],{6502:function(o,e,n){n.d(e,{Ai:function(){return r},Z6:function(){return t},gO:function(){return i}});var r=function(o){return o.profile.profile},t=function(o){return o.profile.status},i=function(o){return o.profile.follow}},539:function(o,e,n){n.r(e),n.d(e,{default:function(){return so}});var r=n(2791),t=n(5992),i=n(885),s=n(8755),l=n(7462),a=n(3366),u=n(8182),c=n(4419),d=n(6934),f=n(1402),p=n(5527),x=n(5878),m=n(1217);function h(o){return(0,m.Z)("MuiCard",o)}(0,x.Z)("MuiCard",["root"]);var v=n(184),Z=["className","raised"],g=(0,d.ZP)(p.Z,{name:"MuiCard",slot:"Root",overridesResolver:function(o,e){return e.root}})((function(){return{overflow:"hidden"}})),w=r.forwardRef((function(o,e){var n=(0,f.Z)({props:o,name:"MuiCard"}),r=n.className,t=n.raised,i=void 0!==t&&t,s=(0,a.Z)(n,Z),d=(0,l.Z)({},n,{raised:i}),p=function(o){var e=o.classes;return(0,c.Z)({root:["root"]},h,e)}(d);return(0,v.jsx)(g,(0,l.Z)({className:(0,u.Z)(p.root,r),elevation:i?8:void 0,ref:e,ownerState:d},s))}));function j(o){return(0,m.Z)("MuiCardMedia",o)}(0,x.Z)("MuiCardMedia",["root","media","img"]);var C=["children","className","component","image","src","style"],P=(0,d.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:function(o,e){var n=o.ownerState,r=n.isMediaComponent,t=n.isImageComponent;return[e.root,r&&e.media,t&&e.img]}})((function(o){var e=o.ownerState;return(0,l.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})})),b=["video","audio","picture","iframe","img"],_=["picture","img"],M=r.forwardRef((function(o,e){var n=(0,f.Z)({props:o,name:"MuiCardMedia"}),r=n.children,t=n.className,i=n.component,s=void 0===i?"div":i,d=n.image,p=n.src,x=n.style,m=(0,a.Z)(n,C),h=-1!==b.indexOf(s),Z=!h&&d?(0,l.Z)({backgroundImage:'url("'.concat(d,'")')},x):x,g=(0,l.Z)({},n,{component:s,isMediaComponent:h,isImageComponent:-1!==_.indexOf(s)}),w=function(o){var e=o.classes,n={root:["root",o.isMediaComponent&&"media",o.isImageComponent&&"img"]};return(0,c.Z)(n,j,e)}(g);return(0,v.jsx)(P,(0,l.Z)({className:(0,u.Z)(w.root,t),as:s,role:!h&&d?"img":void 0,ref:e,style:Z,ownerState:g,src:h?d||p:void 0},m,{children:r}))})),D=n(220);function I(o){return(0,m.Z)("MuiCardContent",o)}(0,x.Z)("MuiCardContent",["root"]);var k=["className","component"],y=(0,d.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(o,e){return e.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),O=r.forwardRef((function(o,e){var n=(0,f.Z)({props:o,name:"MuiCardContent"}),r=n.className,t=n.component,i=void 0===t?"div":t,s=(0,a.Z)(n,k),d=(0,l.Z)({},n,{component:i}),p=function(o){var e=o.classes;return(0,c.Z)({root:["root"]},I,e)}(d);return(0,v.jsx)(y,(0,l.Z)({as:i,className:(0,u.Z)(p.root,r),ownerState:d,ref:e},s))})),N=n(890),S=n(6314),z=n(7488),R=function(o){var e=(0,s.CG)((function(o){return o.profile.profile.photos.small})),n=(0,s.CG)((function(o){return o.auth.defaultPhoto})),l=(0,r.useState)(o.ownerLike),a=(0,i.Z)(l,2),u=a[0],c=a[1],d=(0,r.useState)(o.likeCount),f=(0,i.Z)(d,2),p=f[0],x=f[1],m=(0,s.TL)();(0,r.useEffect)((function(){c(o.ownerLike),x(o.likeCount),console.log(o.ownerLike)}),[o.ownerLike]);return(0,v.jsxs)(w,{sx:{display:"flex",flexDirection:"row",bgcolor:"#151515",alignItems:"center",padding:"3px",gap:2},children:[(0,v.jsx)(M,{children:(0,v.jsx)(D.Z,{src:e||n})}),(0,v.jsxs)(O,{sx:{p:"0",m:"0"},children:[(0,v.jsx)(N.Z,{color:"#D0D3D4",sx:{p:"0",m:"0"},children:o.message}),(0,v.jsxs)(S.Z,{display:"flex",flexDirection:"row",children:[(0,v.jsx)(z.Z,{color:u?"error":"info",onClick:function(){m((0,t.dz)(o.id))}}),(0,v.jsx)(N.Z,{color:u?"error":"#D0D3D4",children:p})]})]})]})},E=n(5705),L=n(4554),F=n(7391),G=n(6151),T=r.memo((function(o){return(0,v.jsx)(E.J9,{initialValues:{newPost:""},validateOnBlur:!0,onSubmit:function(e,n){var r=n.resetForm;o.createNewPost(e.newPost),r({values:void 0})},children:function(o){var e=o.values,n=o.handleBlur,r=o.handleChange,t=(o.isValid,o.handleSubmit),i=o.dirty;return(0,v.jsxs)(L.Z,{display:"flex",flexDirection:"row",width:"100%",maxWidth:"600px",m:"auto",sx:{flexGrow:1},mb:3,children:[(0,v.jsx)(F.Z,{type:"input",name:"newPost",onChange:r,value:e.newPost,onBlur:n,color:"info",label:"Add post",id:"newPost",variant:"outlined",fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{"& > fieldset":{border:"1px solid grey"}},input:{color:"#D0D3D4"}},InputLabelProps:{sx:{color:"grey"}}}),(0,v.jsx)(G.Z,{variant:i?"contained":"outlined",color:"warning",disabled:!i,onClick:function(){t()},type:"submit",children:"Send"})]})}})})),A=function(o){var e=o.posts.map((function(o){return(0,v.jsx)(R,{message:o.message,likeCount:o.likeCount,ownerLike:o.ownerLike,id:o.id},o.id)}));return console.log("Rerender"),(0,v.jsxs)(L.Z,{display:"flex",flexDirection:"column",mt:3,children:[(0,v.jsx)(T,{createNewPost:o.createNewPost}),(0,v.jsx)(S.Z,{gap:1,children:e})]})},U=(0,n(8687).$j)((function(o){return{posts:o.profile.posts,newPostText:o.profile.newPostText}}),(function(o){return{createNewPost:function(e){o((0,t.HP)(e))}}}))(A),V={profileClass:"Profile_profileClass__eq7lO",profileInfo:"Profile_profileInfo__OVCEI",avatarSide:"Profile_avatarSide__M2bsj",avatarImg:"Profile_avatarImg__3Egiz",fullPhoto:"Profile_fullPhoto__Yz2Tr",inputPhoto:"Profile_inputPhoto__RonUU",labelUpdatePhoto:"Profile_labelUpdatePhoto__rIkOS",name:"Profile_name__7N8LX",status:"Profile_status__pnE9e",aboutMe:"Profile_aboutMe__UjygN",editMode:"Profile_editMode__71+RX",informationUser:"Profile_informationUser__7qzE9",buttonFollow:"Profile_buttonFollow__w3i6m",buttonUnfollow:"Profile_buttonUnfollow__wXenc",buttonEditInfo:"Profile_buttonEditInfo__iPGTb",profilePost:"Profile_profilePost__xVBaE",statusEditImg:"Profile_statusEditImg__xboN9"},B=n(2822),H=n(4919),W=function(o){var e=(0,s.TL)(),n=(0,r.useState)(!1),l=(0,i.Z)(n,2),a=l[0],u=l[1],c=(0,r.useState)(o.status),d=(0,i.Z)(c,2),f=d[0],p=d[1];return(0,r.useEffect)((function(){p(o.status)}),[o.status]),(0,r.useEffect)((function(){console.log(o.ownerId===o.userId)}),[o.userId]),(0,v.jsxs)(L.Z,{children:["  ",!a&&(0,v.jsxs)(L.Z,{display:"flex",flexDirection:"row",alignItems:"center",m:"0 auto 15px auto",justifyContent:"center",children:[(0,v.jsx)(N.Z,{variant:"subtitle1",color:"#D0D3D4",children:(0,v.jsx)("em",{children:o.status||""})}),(0,v.jsx)("span",{onClick:function(){return u(!o.isOwner)},children:o.ownerId===o.userId&&(0,v.jsx)(H.Z,{color:"info",sx:{ml:"10px"}})})]}),(0,v.jsx)(L.Z,{display:"flex",justifyContent:"center",margin:"auto",children:a&&(0,v.jsx)(F.Z,{id:"status",label:"Status",variant:"standard",onChange:function(o){p(o.currentTarget.value)},autoFocus:!0,value:f,onBlur:function(){u(!1),f!==o.status&&e((0,t.FY)(f))},color:"info",fullWidth:!0,sx:{m:"0 20px",maxWidth:"300px"}})})]})},J=n(7368),X=n(7750),Y=n(3368),q=n(5776),$=function(o){var e=o.contactTitle,n=o.contactValue;return(0,v.jsxs)(N.Z,{children:[(0,v.jsxs)("b",{style:{color:"#327d9b"},children:[e,":"]})," ",n]})},K=function(o){var e=o.profile;o.isOwner;return(0,v.jsxs)(L.Z,{color:"#D0D3D4",children:[(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{style:{color:"#327d9b"},children:"looking for a job:"})," ",e.lookingForAJob?" Yes":" No"]}),e.lookingForAJob&&(0,v.jsxs)("div",{children:[(0,v.jsx)("b",{style:{color:"#327d9b"},children:"looking for a job description:"})," ",e.lookingForAJobDescription]})]}),(0,v.jsxs)("div",{className:V.aboutMe,children:[(0,v.jsx)("b",{style:{color:"#327d9b"},children:"About me:"})," ",e.aboutMe]})]}),(0,v.jsx)("div",{className:V.contacts,children:Object.keys(e.contacts).filter((function(o){return e.contacts[o]})).map((function(o){return(0,v.jsx)($,{contactTitle:o,contactValue:e.contacts[o]},o)}))})]})},Q=function(o){var e=(0,s.CG)(J.nT),n=(0,s.CG)((function(o){return o.auth.defaultPhoto})),t=(0,r.useState)(!1),l=(0,i.Z)(t,2),a=(l[0],l[1]);return(0,r.useEffect)((function(){a(!1)}),[o.profile.userId]),o.profile?(0,v.jsxs)(w,{sx:{display:"flex",borderRadius:"5px",flexDirection:{xs:"column",sm:"row"},background:"rgba(0, 0, 0, 0)",gap:1,flexGrow:1},children:[(0,v.jsxs)(L.Z,{display:"flex",flexDirection:"column",children:[(0,v.jsx)(M,{component:"img",image:o.profile.photos.large?o.profile.photos.large:n,sx:{width:"300px",height:"300px",borderRadius:"5px",m:"auto"}}),(0,v.jsxs)(L.Z,{display:"flex",flexDirection:"row",m:"5px auto",width:"300px",gap:"5px",children:[e!==o.profile.userId&&o.isOwner&&(0,v.jsx)(G.Z,{color:o.follow?"info":"warning",variant:o.follow?"outlined":"contained",onClick:function(){o.onFollowProfileChange(o.profile.userId,o.follow)},children:o.follow?(0,v.jsx)(Y.Z,{}):(0,v.jsx)(X.Z,{})}),e!==o.profile.userId&&o.isOwner&&(0,v.jsx)(G.Z,{color:"info",variant:"contained",startIcon:(0,v.jsx)(q.Z,{}),fullWidth:!0,onClick:function(){o.onPutDialogOnProfileChange(o.profile.userId)},children:"Write new message"})]})]}),(0,v.jsxs)(L.Z,{display:"flex",flexDirection:"column",sx:{flexGrow:1},width:"100%",children:[(0,v.jsx)(N.Z,{color:"#D0D3D4",sx:{m:"10px auto 0 auto"},variant:"h5",children:o.profile.fullName}),(0,v.jsx)(W,{status:o.status,isOwner:o.isOwner,ownerId:e,userId:o.profile.userId}),(0,v.jsx)(K,{profile:o.profile,isOwner:o.isOwner})]})]}):(0,v.jsx)(B.Z,{})},oo=function(o){return(0,v.jsxs)(L.Z,{display:"flex",flexGrow:1,flexDirection:"column",m:"0 5px",children:[(0,v.jsx)(Q,{isOwner:o.isOwner,profile:o.profile,status:o.status,follow:o.follow,onFollowProfileChange:o.onFollowProfileChange,onPutDialogOnProfileChange:o.onPutDialogOnProfileChange}),(0,v.jsx)(U,{})]})},eo=n(6871),no=n(3502),ro=n(3418),to=n(894),io=n(6502),so=(0,no.S)((function(){var o=(0,eo.UO)().userId,e=Number(o);console.log((0,eo.UO)());var n=(0,s.TL)(),i=(0,s.CG)(io.Ai),l=(0,s.CG)(io.Z6),a=(0,s.CG)(io.gO),u=(0,s.CG)(J.nT),c=(0,eo.s0)();console.log(o),(0,r.useEffect)((function(){e||(e=u),n((0,t.Hw)(e)),n((0,t.xD)(e)),n((0,t.fB)(e))}),[o]),(0,r.useEffect)((function(){}),[]);return(0,v.jsx)(oo,{isOwner:!!o,profile:i,status:l,follow:a,onFollowProfileChange:function(o,e){n((0,t.Gv)(o,e)),n((0,ro.pt)(!0))},onPutDialogOnProfileChange:function(o){c("/dialogs/".concat(o)),n((0,to.yZ)(o))}})}))},3502:function(o,e,n){n.d(e,{S:function(){return p}});var r=n(1413),t=n(5671),i=n(3144),s=n(136),l=n(7277),a=n(2791),u=n(8687),c=n(6871),d=n(184),f=function(o){return{isAuth:o.auth.isAuth}},p=function(o){var e=function(e){(0,s.Z)(a,e);var n=(0,l.Z)(a);function a(){return(0,t.Z)(this,a),n.apply(this,arguments)}return(0,i.Z)(a,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(o,(0,r.Z)({},this.props)):(0,d.jsx)(c.Fg,{to:"/login"})}}]),a}(a.Component);return(0,u.$j)(f)(e)}},7488:function(o,e,n){var r=n(4836);e.Z=void 0;var t=r(n(5649)),i=n(184),s=(0,t.default)((0,i.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder");e.Z=s},4919:function(o,e,n){var r=n(4836);e.Z=void 0;var t=r(n(5649)),i=n(184),s=(0,t.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"ModeEdit");e.Z=s},7750:function(o,e,n){var r=n(4836);e.Z=void 0;var t=r(n(5649)),i=n(184),s=(0,t.default)((0,i.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"PersonAdd");e.Z=s},3368:function(o,e,n){var r=n(4836);e.Z=void 0;var t=r(n(5649)),i=n(184),s=(0,t.default)((0,i.jsx)("path",{d:"M14 8c0-2.21-1.79-4-4-4S6 5.79 6 8s1.79 4 4 4 4-1.79 4-4zm3 2v2h6v-2h-6zM2 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4z"}),"PersonRemove");e.Z=s},5776:function(o,e,n){var r=n(4836);e.Z=void 0;var t=r(n(5649)),i=n(184),s=(0,t.default)((0,i.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 14v-2.47l6.88-6.88c.2-.2.51-.2.71 0l1.77 1.77c.2.2.2.51 0 .71L8.47 14H6zm12 0h-7.5l2-2H18v2z"}),"RateReview");e.Z=s}}]);
//# sourceMappingURL=539.034d8ad4.chunk.js.map