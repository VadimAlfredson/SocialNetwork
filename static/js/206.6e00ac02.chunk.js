"use strict";(self.webpackChunkreact_vadim=self.webpackChunkreact_vadim||[]).push([[206],{1206:function(t,n,e){e.r(n),e.d(n,{default:function(){return _}});var r=e(2791),o=e(3502),i=e(8755),u=e(4686);function a(t){if(null==t)throw new TypeError("Cannot destructure "+t)}var c=e(6871),s=e(4852),l=e(3366),f=e(7462),d=e(8182),p=e(4419),x=e(6199),h=e(6934),v=e(1402),m=e(5878),b=e(1217);function g(t){return(0,b.Z)("MuiListItemAvatar",t)}(0,m.Z)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var Z=e(184),y=["className"],w=(0,h.ZP)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:function(t,n){var e=t.ownerState;return[n.root,"flex-start"===e.alignItems&&n.alignItemsFlexStart]}})((function(t){var n=t.ownerState;return(0,f.Z)({minWidth:56,flexShrink:0},"flex-start"===n.alignItems&&{marginTop:8})})),j=r.forwardRef((function(t,n){var e=(0,v.Z)({props:t,name:"MuiListItemAvatar"}),o=e.className,i=(0,l.Z)(e,y),u=r.useContext(x.Z),a=(0,f.Z)({},e,{alignItems:u.alignItems}),c=function(t){var n=t.alignItems,e=t.classes,r={root:["root","flex-start"===n&&"alignItemsFlexStart"]};return(0,p.Z)(r,g,e)}(a);return(0,Z.jsx)(w,(0,f.Z)({className:(0,d.Z)(c.root,o),ownerState:a,ref:n},i))})),k=e(220),I=e(6259),C=e(890),S=function(t){var n=(0,i.CG)((function(t){return t.auth.defaultPhoto})),e=(0,c.s0)();return(0,Z.jsxs)(s.ZP,{alignItems:"flex-start",sx:{backgroundColor:"#151515",mt:"1px"},children:[(0,Z.jsx)(j,{children:(0,Z.jsx)(k.Z,{alt:t.name,src:t.icon?t.icon:n,onClick:function(){e("/profile/".concat(t.userId))}})}),(0,Z.jsx)(I.Z,{primary:(0,Z.jsx)(C.Z,{sx:{display:"inline"},component:"span",variant:"subtitle2",color:"#327d9b",children:t.name}),secondary:(0,Z.jsx)(r.Fragment,{children:(0,Z.jsx)(C.Z,{sx:{display:"inline"},component:"span",variant:"body1",color:"#D0D3D4",children:t.message})})})]})},O=function(t){return t.chat.messages},R=function(t){return t.chat.status},P=e(493),D=function(t){a(t);var n=(0,r.useRef)(null),e=(0,i.CG)(O);return(0,r.useEffect)((function(){var t;null===(t=n.current)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"end"})}),[e]),(0,Z.jsxs)(P.Z,{sx:{width:"100% - 5px",overflow:"auto",paddingRight:"2px","&::-webkit-scrollbar":{width:"1em"},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(50,125,155,0.20)",webkitBoxShadow:"inset 0 0 6px rgba(50,125,155,0.20)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(50,125,155,.1)",outline:"1px solid #327d9b"}},children:[e.map((function(t,n){return(0,Z.jsx)(S,{userId:t.userId,icon:t.photo,message:t.message,name:t.userName},n)})),(0,Z.jsx)("div",{ref:n})]})},A=e(885),E=e(4554),L=e(5307),T=e(6151),M=function(t){a(t);var n=(0,i.CG)(R),e=(0,i.TL)(),o=(0,r.useState)(""),c=(0,A.Z)(o,2),s=c[0],l=c[1];return(0,Z.jsxs)(E.Z,{display:"flex",flexDirection:"row",gap:.5,position:"sticky",children:[(0,Z.jsx)(L.Z,{label:"message",id:"chatMessage",fullWidth:!0,variant:"outlined",onChange:function(t){return l(t.target.value)},value:s,color:"success",sx:{"& .MuiOutlinedInput-root":{"& > fieldset":{border:"1px solid grey"},"&:hover":{boxShadow:"0 0 3px  rgba(50,125,155)",backgroundColor:"rgba(50,125,155,0.05)"}},input:{color:"#D0D3D4"}},InputLabelProps:{sx:{color:"rgba(50,125,155,0.45)"}}}),(0,Z.jsx)(T.Z,{onClick:function(){""!==s&&e((0,u.ND)(s)),l("")},disabled:"ready"!==n,color:"success",variant:"ready"!==n?"outlined":"contained",children:"Send"})]})},_=(0,o.S)((function(){var t=(0,i.TL)(),n=(0,r.useRef)(null);(0,i.CG)(O);return(0,r.useEffect)((function(){var t;null===(t=n.current)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"end"})}),[]),(0,r.useEffect)((function(){return t((0,u.QR)()),function(){t((0,u.Qm)())}}),[]),(0,Z.jsxs)(E.Z,{display:"flex",flexDirection:"column",gap:1,m:"0 5px",maxHeight:{xs:"calc(100vh - 120px)",md:"800px"},width:{xs:"auto",md:"100%"},children:[(0,Z.jsx)(D,{}),(0,Z.jsx)(M,{}),(0,Z.jsx)("div",{ref:n})]})}))},3502:function(t,n,e){e.d(n,{S:function(){return p}});var r=e(1413),o=e(5671),i=e(3144),u=e(136),a=e(7277),c=e(2791),s=e(8687),l=e(6871),f=e(184),d=function(t){return{isAuth:t.auth.isAuth}},p=function(t){var n=function(n){(0,u.Z)(c,n);var e=(0,a.Z)(c);function c(){return(0,o.Z)(this,c),e.apply(this,arguments)}return(0,i.Z)(c,[{key:"render",value:function(){return this.props.isAuth?(0,f.jsx)(t,(0,r.Z)({},this.props)):(0,f.jsx)(l.Fg,{to:"/login"})}}]),c}(c.Component);return(0,s.$j)(d)(n)}},5671:function(t,n,e){function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}e.d(n,{Z:function(){return r}})},3144:function(t,n,e){e.d(n,{Z:function(){return i}});var r=e(9142);function o(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(0,r.Z)(o.key),o)}}function i(t,n,e){return n&&o(t.prototype,n),e&&o(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}},7277:function(t,n,e){e.d(n,{Z:function(){return a}});var r=e(1120),o=e(8814),i=e(1002),u=e(7326);function a(t){var n=(0,o.Z)();return function(){var e,o=(0,r.Z)(t);if(n){var a=(0,r.Z)(this).constructor;e=Reflect.construct(o,arguments,a)}else e=o.apply(this,arguments);return function(t,n){if(n&&("object"===(0,i.Z)(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return(0,u.Z)(t)}(this,e)}}},1120:function(t,n,e){function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}e.d(n,{Z:function(){return r}})},136:function(t,n,e){e.d(n,{Z:function(){return o}});var r=e(9611);function o(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&(0,r.Z)(t,n)}},8814:function(t,n,e){function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}e.d(n,{Z:function(){return r}})}}]);
//# sourceMappingURL=206.6e00ac02.chunk.js.map