"use strict";(self.webpackChunkreact_vadim=self.webpackChunkreact_vadim||[]).push([[92],{9092:function(e,n,s){s.r(n),s.d(n,{default:function(){return V}});var r=s(2791),a=s(6434),t=s(885),o="users_usersComponent__8nRZo",u="users_itemUser__x5owb",i="users_avatar__erVMZ",c="users_infoUser__y2HtR",l="users_followButton__ExoVv",h="users_massageButton__-K1Un",d="users_buttonStyle__jG05x",f="users_nameUser__9hBV1",C="users_statusUser__F2WyE",g="users_navLinkToLogin__wH+jC",_="users_formSearchBlock__2WRRL",m="users_searchInput__2r7sY",p="users_searchButton__ZGCpm",x="users_searchCheckbox__LqUAR",j="users_searchText__DnfT0",v=s(3504),k="paginator_activePage__eWc4N",b="paginator_paginator__QVHI9",N="paginator_pageNumber__7A1XW",U=s(8755),w=s(184),y=function(e){for(var n=(0,U.CG)((function(e){return e.users.pageSize})),s=(0,U.CG)((function(e){return e.users.totalUsersCount})),a=(0,U.CG)((function(e){return e.users.currentPage})),o=(0,U.CG)((function(e){return e.users.term})),u=(0,U.CG)((function(e){return e.users.friends})),i=Math.ceil(s/n),c=[],l=1;l<=i;l++)c.push(l);var h=Math.ceil(i/5),d=(0,r.useState)(1),f=(0,t.Z)(d,2),C=f[0],g=f[1],_=5*(C-1)+1,m=5*C;return(0,w.jsxs)("div",{className:b,children:[C>1&&c.filter((function(e){return 1===e})).map((function(s){return(0,w.jsx)("span",{className:a===s?k:N,onClick:function(){e.onPageChange(s,n,o)},children:s},s)})),C>1&&(0,w.jsx)("button",{className:N,onClick:function(){g(C-1)},children:"-5"}),c.filter((function(e){return e>=_&&e<=m})).map((function(s){return(0,w.jsx)("span",{className:e.currentPage===s?k:N,onClick:function(){u?e.onPageChange(s,n,o,u):e.onPageChange(s,n,o)},children:s},s)})),h>C&&(0,w.jsx)("button",{className:N,onClick:function(){g(C+1)},children:"+5"}),h>C&&c.filter((function(e){return e===i})).map((function(s){return(0,w.jsx)("span",{className:a===s?k:N,onClick:function(){e.onPageChange(s,n,o)},children:s},s)}))]})},G=s(4374),S=s(5705),T=s(132),P=function(e){var n=(0,U.CG)((function(e){return e.users.pageSize})),s=T.Ry().shape({search:T.Z_()});return(0,w.jsx)(S.J9,{initialValues:{search:"",subscriptionsCheckbox:!1},validateOnBlur:!0,onSubmit:function(s){console.log(s),e.onUsersChange(1,n,s.search,s.subscriptionsCheckbox)},validationSchema:s,children:function(e){var n=e.values,s=(e.errors,e.touched,e.handleBlur),r=e.handleChange,a=(e.isValid,e.handleSubmit);e.dirty;return(0,w.jsxs)("div",{className:_,children:[(0,w.jsx)("input",{className:m,type:"text",name:"search",onChange:r,onBlur:s,value:n.search,placeholder:"text"}),(0,w.jsx)("button",{className:p,onClick:function(){a()},type:"submit",children:"Search"}),(0,w.jsx)("div",{className:x,children:(0,w.jsx)("div",{className:"",children:(0,w.jsx)("input",{type:"checkbox",name:"subscriptionsCheckbox",onChange:r,onBlur:s})})}),(0,w.jsx)("div",{className:j,children:"Only subscriptions"})]})}})},B=function(e){var n=(0,U.CG)((function(e){return e.users.users})),s=(0,U.CG)((function(e){return e.users.followingInProgress})),a=(0,U.CG)((function(e){return e.auth.isAuth})),_=(0,U.CG)((function(e){return e.users.isFetching})),m=(0,r.useState)(!1),p=(0,t.Z)(m,2),x=p[0],j=p[1];return(0,r.useEffect)((function(){x!=a?j(a):console.log("useEffect")}),[a]),(0,w.jsxs)("div",{className:o,children:[(0,w.jsx)(y,{onPageChange:e.onUsersChange}),(0,w.jsx)(P,{onUsersChange:e.onUsersChange}),_?(0,w.jsx)(G.Z,{}):(0,w.jsx)("div",{children:n.map((function(n){return(0,w.jsxs)("div",{className:u,children:[(0,w.jsx)("div",{className:i,children:(0,w.jsx)(v.OL,{to:"/profile/"+n.id,children:(0,w.jsx)("img",{src:null!==n.photos.small?n.photos.small:"https://shapka-youtube.ru/wp-content/uploads/2021/02/avatarka-dlya-skaypa-dlya-parney.jpg",alt:"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"})})}),(0,w.jsx)("div",{className:l,children:a?(0,w.jsx)("button",{className:d,disabled:s.includes(n.id),onClick:function(){return e.onFollowChange(n.id,n.followed)},children:n.followed?"Unfollow":"Follow"}):(0,w.jsx)(v.OL,{className:g,to:"../login",children:"Register to subscribe"})}),(0,w.jsx)("div",{className:h,children:a&&(0,w.jsx)("button",{className:d,onClick:function(){e.onDialogUserChange(n.id)},children:"Message"})}),(0,w.jsxs)("div",{className:c,children:[(0,w.jsx)("div",{className:f,children:n.name}),(0,w.jsx)("div",{className:C,children:n.status})]})]},n.id)}))})]})},F=s(9662),Z=s(7781),R=s(443),V=(0,Z.qC)((0,a.$j)((function(e){return{}}),{getUsersThunkCreator:F.Uk,onChangeUsersThunkCreator:F.IV,onFollowChangeThunkCreator:F.uq,putDialogUserThunkCreator:R.yZ}))((function(e){var n=(0,U.CG)((function(e){return e.users.pageSize})),s=(0,U.CG)((function(e){return e.users.currentPage}));(0,r.useEffect)((function(){e.getUsersThunkCreator(s,n)}),[]);return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(B,{onUsersChange:function(n,s,r,a){e.onChangeUsersThunkCreator(n,s,r,a)},onFollowChange:function(n,s){e.onFollowChangeThunkCreator(n,s)},onDialogUserChange:function(n){e.putDialogUserThunkCreator(n)}})})}))}}]);
//# sourceMappingURL=92.dd9be4c5.chunk.js.map