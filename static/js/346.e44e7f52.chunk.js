"use strict";(self.webpackChunkreact_vadim=self.webpackChunkreact_vadim||[]).push([[346],{8346:function(n,e,t){t.r(e),t.d(e,{default:function(){return x}});var r=t(5671),o=t(3144),s=t(136),a=t(7277),i=t(2791),u=t(6434),l="users_avatar__y+lLH",h=t(3504),c=t(885),g="paginator_activePage__VMnuX",p=t(184),d=function(n){for(var e=Math.ceil(n.totalUsersCount/n.pageSize),t=[],r=1;r<=e;r++)t.push(r);var o=Math.ceil(e/10),s=(0,i.useState)(1),a=(0,c.Z)(s,2),u=a[0],l=a[1],h=10*(u-1)+1,d=10*u;return(0,p.jsxs)("div",{children:[u>1&&(0,p.jsx)("button",{onClick:function(){l(u-1)},children:"left"}),t.filter((function(n){return n>=h&&n<=d})).map((function(e){return(0,p.jsx)("span",{className:n.currentPage===e?g:null,onClick:function(){n.onPageChange(e)},children:e},e)})),o>u&&(0,p.jsx)("button",{onClick:function(){l(u+1)},children:"right"})]})},f=function(n){return(0,p.jsxs)("div",{children:[(0,p.jsx)(d,{totalUsersCount:n.totalUsersCount,pageSize:n.pageSize,currentPage:n.currentPage,onPageChange:n.onPageChange}),n.users.map((function(e){return(0,p.jsx)("div",{children:(0,p.jsxs)("span",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(h.OL,{to:"/profile/"+e.id,children:(0,p.jsx)("img",{src:null!==e.photos.small?e.photos.small:"https://shapka-youtube.ru/wp-content/uploads/2021/02/avatarka-dlya-skaypa-dlya-parney.jpg",className:l})}),(0,p.jsx)("button",{disabled:n.followingInProgress.includes(e.id),onClick:function(){return n.onFollowChange(e.id,e.followed)},children:e.followed?"Unfollow":"Follow"})]}),(0,p.jsxs)("span",{children:[(0,p.jsx)("div",{children:e.name}),(0,p.jsx)("div",{children:e.status})]})]})},e.id)}))]})},C=t(9662),v=t(4374),j=t(3502),P=t(7781),k=t(2931),w=function(n){(0,s.Z)(t,n);var e=(0,a.Z)(t);function t(){var n;(0,r.Z)(this,t);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return(n=e.call.apply(e,[this].concat(s))).onPageChange=function(e){n.props.onPageChangeThunkCreator(e,n.props.pageSize)},n.onFollowChange=function(e,t){n.props.onFollowChangeThunkCreator(e,t)},n}return(0,o.Z)(t,[{key:"componentDidMount",value:function(){this.props.getUsersThunkCreator(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return(0,p.jsxs)(p.Fragment,{children:[this.props.isFetching?(0,p.jsx)(v.Z,{}):null,(0,p.jsx)(f,{users:this.props.users,pageSize:this.props.pageSize,currentPage:this.props.currentPage,totalUsersCount:this.props.totalUsersCount,onPageChange:this.onPageChange,onFollowChange:this.onFollowChange,followingInProgress:this.props.followingInProgress})]})}}]),t}(i.Component),x=(0,P.qC)(j.S,(0,u.$j)((function(n){return{users:(0,k.Rf)(n),pageSize:(0,k.b7)(n),totalUsersCount:(0,k.qZ)(n),currentPage:(0,k.FZ)(n),followingInProgress:(0,k.yg)(n),isAuth:(0,k.Od)(n),isFetching:(0,k.ab)(n)}}),{followed:C.Gp,setUsers:C.HM,setCurrentPage:C.D4,setTotalUsersCount:C.K1,toggleIsFetching:C.MO,toggleIsFollowing:C.zF,getUsersThunkCreator:C.Uk,onPageChangeThunkCreator:C.Pv,onFollowChangeThunkCreator:C.uq}))(w)},3502:function(n,e,t){t.d(e,{S:function(){return p}});var r=t(8683),o=t(5671),s=t(3144),a=t(136),i=t(7277),u=t(2791),l=t(6434),h=t(6871),c=t(184),g=function(n){return{isAuth:n.auth.isAuth}},p=function(n){var e=function(e){(0,a.Z)(u,e);var t=(0,i.Z)(u);function u(){return(0,o.Z)(this,u),t.apply(this,arguments)}return(0,s.Z)(u,[{key:"render",value:function(){return this.props.isAuth?(0,c.jsx)(n,(0,r.Z)({},this.props)):(0,c.jsx)(h.Fg,{to:"/login"})}}]),u}(u.Component);return(0,l.$j)(g)(e)}}}]);
//# sourceMappingURL=346.e44e7f52.chunk.js.map