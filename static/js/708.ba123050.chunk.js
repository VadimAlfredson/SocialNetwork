"use strict";(self.webpackChunkreact_vadim=self.webpackChunkreact_vadim||[]).push([[708],{708:function(e,a,s){s.r(a),s.d(a,{default:function(){return m}});var n=s(2982),t=s(885),r=s(2791),c="Chat_messagesChat__CR-eP",i="Chat_messageBlock__vaJuA",u="Chat_avatar__rsPnT",d="Chat_message__F0bjS",o="Chat_name__TA+p3",l=s(184),h=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),m=function(){return(0,l.jsxs)("div",{children:[(0,l.jsx)(v,{}),(0,l.jsx)(j,{})]})},v=function(e){var a=(0,r.useState)([]),s=(0,t.Z)(a,2),i=s[0],u=s[1];return(0,r.useEffect)((function(){h.addEventListener("message",(function(e){var a=JSON.parse(e.data);u((function(e){return[].concat((0,n.Z)(e),(0,n.Z)(a))}))}))}),[]),(0,l.jsx)("div",{className:c,children:i.map((function(e,a){return(0,l.jsx)(f,{icon:e.photo,message:e.message,name:e.userName},a)}))})},f=function(e){return(0,l.jsxs)("div",{className:i,children:[(0,l.jsx)("img",{className:u,src:e.icon?e.icon:"https://shapka-youtube.ru/wp-content/uploads/2021/02/avatarka-dlya-skaypa-dlya-parney.jpg"}),(0,l.jsx)("div",{className:o,children:e.name}),(0,l.jsx)("div",{className:d,children:e.message})]})},j=function(){var e=(0,r.useState)(""),a=(0,t.Z)(e,2),s=a[0],n=a[1];return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:(0,l.jsx)("textarea",{onChange:function(e){return n(e.target.value)},value:s})}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{onClick:function(){s&&(h.send(s),n(""))},disabled:h.readyState!==h.OPEN,children:"Send"})})]})}}}]);
//# sourceMappingURL=708.ba123050.chunk.js.map