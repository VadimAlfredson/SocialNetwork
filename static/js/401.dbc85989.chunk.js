"use strict";(self.webpackChunkreact_vadim=self.webpackChunkreact_vadim||[]).push([[401],{401:function(e,a,s){s.r(a),s.d(a,{default:function(){return oe}});var t=s(885),n=s(2791),o={dialogs:"Dialogs_dialogs__GBcEp",dialogsUsers:"Dialogs_dialogsUsers__LBmt6",dialogDiv:"Dialogs_dialogDiv__uycfj",dialogItem:"Dialogs_dialogItem__k9CuM",getMoreDialogs:"Dialogs_getMoreDialogs__n6h0D",addDialog:"Dialogs_addDialog__OC9fh",active:"Dialogs_active__zK1A-",titleMessages:"Dialogs_titleMessages__2oe-t",messages:"Dialogs_messages__Ly6dr",addMessage:"Dialogs_addMessage__+SI4K",inputAddMessage:"Dialogs_inputAddMessage__KTTQa",buttonAddMessage:"Dialogs_buttonAddMessage__gnvoU",divAddMessage:"Dialogs_divAddMessage__EcDqL",iconMessage:"Dialogs_iconMessage__L+5-e",message:"Dialogs_message__pyaWz",divMessage:"Dialogs_divMessage__lpG8t",messageForm:"Dialogs_messageForm__5uYWH",divOwnerMessage:"Dialogs_divOwnerMessage__vv-7J",ownerMessageForm:"Dialogs_ownerMessageForm__zHNC0",textMessage:"Dialogs_textMessage__rleMB",ownerTextMessage:"Dialogs_ownerTextMessage__Sdmym",h3text:"Dialogs_h3text__5icbU",ownerMessageViewed:"Dialogs_ownerMessageViewed__boBPG",textMessageViewed:"Dialogs_textMessageViewed__i1cxU",deleteMessageOn:"Dialogs_deleteMessageOn__Uwr8k",deleteMessageOff:"Dialogs_deleteMessageOff__FcrKb",deleteMessageIcon:"Dialogs_deleteMessageIcon__unqLp",activeMessage:"Dialogs_activeMessage__ie+E3",warningDeleteMessage:"Dialogs_warningDeleteMessage__6S48Q",companionName:"Dialogs_companionName__AzAMZ"},i=s(184),r=function(e){var a=(0,n.useState)(!1),s=(0,t.Z)(a,2),r=s[0],d=s[1],l=(0,n.useState)(!1),c=(0,t.Z)(l,2),g=c[0],u=c[1],p=e.message.replace(/&quot;/gi,'"').replace(/&#171;/gi,'"').replace(/&#187;/gi,'"').replace(/&#39;/gi,"'");console.log(e.senderId);var m=e.senderId===e.OwnerId?e.ownerPhoto||e.defaultPhoto:e.companionIcon;return(0,i.jsx)("div",{className:r||g?o.activeMessage:o.none,children:(0,i.jsxs)("div",{className:e.senderId===e.OwnerId?o.divOwnerMessage:o.divMessage,onClick:function(){d(!!g||function(e){return!e})},children:[(0,i.jsx)("div",{children:(0,i.jsx)("img",{className:o.iconMessage,src:m})}),(0,i.jsx)("div",{className:e.senderId===e.OwnerId?o.ownerMessageForm:o.messageForm,children:(0,i.jsxs)("a",{className:e.senderId===e.OwnerId?e.viewed?o.ownerTextMessage:o.ownerMessageViewed:e.viewed?o.textMessage:o.textMessageViewed,children:[p,(0,i.jsx)("br",{}),(0,i.jsx)("div",{className:r&&!g?o.deleteMessageOn:o.deleteMessageOff,onClick:function(){d(!0),u((function(e){return!e}))},children:(0,i.jsx)("img",{className:o.deleteMessageIcon,src:"/SocialNetwork/free-icon-delete-6467128.png"})})]})}),(0,i.jsxs)("div",{className:g?o.warningDeleteMessage:o.deleteMessageOff,children:["Are you sure you want to delete the message?",(0,i.jsx)("br",{}),(0,i.jsx)("button",{onClick:function(){e.onDeleteMessageChange(e.messageId,e.senderId===e.OwnerId?e.recipientId:e.senderId),u(!1)},children:"Yes"}),(0,i.jsx)("button",{onClick:function(){u(!1)},children:"No"})]})]})})},d=s(5705),l=s(132),c=function(e){var a=l.Z_();return(0,i.jsx)(d.J9,{initialValues:{textMessage:""},validateOnBlur:!0,onSubmit:function(a,s){var t=s.resetForm;!function(a){e.onMessageSentChange(e.dialogId,a)}(a.textMessage),console.log(a.textMessage),t({values:void 0})},validationSchema:a,children:function(e){var a=e.values,s=e.handleBlur,t=e.handleChange,n=e.isValid,r=e.handleSubmit,d=e.dirty;return(0,i.jsxs)("div",{className:o.divAddMessage,children:[(0,i.jsx)("input",{className:o.inputAddMessage,type:"textarea",name:"textMessage",onChange:t,onBlur:s,value:a.textMessage,placeholder:"Add new message"}),(0,i.jsx)("br",{}),(0,i.jsx)("button",{className:o.buttonAddMessage,disabled:!n&&!d,onClick:function(){r()},type:"submit",children:"Send"})]})}})},g=function(e){return(0,i.jsx)(c,{dialogId:e.dialogId,onMessageSentChange:e.onMessageSentChange})},u=s(894),p=s(6871),m=s(3504),v=s(8755),h=function(e){return e.dialogs.dialogs},f=function(e){return e.dialogs.messages},x=function(e){return e.dialogs.dialogId},_=function(e){return e.dialogs.companionIcon},b=function(e){return e.dialogs.companionId},M=function(e){return e.dialogs.companionName},D=s(7368),Z=s(4852),C=s(9900),w=s(4554),j=s(6314),I=s(493),y=s(890),O=s(8096),k=s(4925),N=s(5873),S=s(4942),A=s(3366),G=s(7462),F=s(8182),V=s(4419),B=s(2065),L=s(6934),P=s(1402),T=s(6199),R=s(3701),q=s(162),z=s(2071),H=s(5878);var E=(0,H.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var U=(0,H.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]),K=s(9849),W=s(1217);function Q(e){return(0,W.Z)("MuiMenuItem",e)}var J=(0,H.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Y=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],X=(0,L.ZP)(R.Z,{shouldForwardProp:function(e){return(0,L.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,a){var s=e.ownerState;return[a.root,s.dense&&a.dense,s.divider&&a.divider,!s.disableGutters&&a.gutters]}})((function(e){var a,s=e.theme,t=e.ownerState;return(0,G.Z)({},s.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:"1px solid ".concat((s.vars||s).palette.divider),backgroundClip:"padding-box"},(a={"&:hover":{textDecoration:"none",backgroundColor:(s.vars||s).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,S.Z)(a,"&.".concat(J.selected),(0,S.Z)({backgroundColor:s.vars?"rgba(".concat(s.vars.palette.primary.mainChannel," / ").concat(s.vars.palette.action.selectedOpacity,")"):(0,B.Fq)(s.palette.primary.main,s.palette.action.selectedOpacity)},"&.".concat(J.focusVisible),{backgroundColor:s.vars?"rgba(".concat(s.vars.palette.primary.mainChannel," / calc(").concat(s.vars.palette.action.selectedOpacity," + ").concat(s.vars.palette.action.focusOpacity,"))"):(0,B.Fq)(s.palette.primary.main,s.palette.action.selectedOpacity+s.palette.action.focusOpacity)})),(0,S.Z)(a,"&.".concat(J.selected,":hover"),{backgroundColor:s.vars?"rgba(".concat(s.vars.palette.primary.mainChannel," / calc(").concat(s.vars.palette.action.selectedOpacity," + ").concat(s.vars.palette.action.hoverOpacity,"))"):(0,B.Fq)(s.palette.primary.main,s.palette.action.selectedOpacity+s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:s.vars?"rgba(".concat(s.vars.palette.primary.mainChannel," / ").concat(s.vars.palette.action.selectedOpacity,")"):(0,B.Fq)(s.palette.primary.main,s.palette.action.selectedOpacity)}}),(0,S.Z)(a,"&.".concat(J.focusVisible),{backgroundColor:(s.vars||s).palette.action.focus}),(0,S.Z)(a,"&.".concat(J.disabled),{opacity:(s.vars||s).palette.action.disabledOpacity}),(0,S.Z)(a,"& + .".concat(E.root),{marginTop:s.spacing(1),marginBottom:s.spacing(1)}),(0,S.Z)(a,"& + .".concat(E.inset),{marginLeft:52}),(0,S.Z)(a,"& .".concat(K.Z.root),{marginTop:0,marginBottom:0}),(0,S.Z)(a,"& .".concat(K.Z.inset),{paddingLeft:36}),(0,S.Z)(a,"& .".concat(U.root),{minWidth:36}),a),!t.dense&&(0,S.Z)({},s.breakpoints.up("sm"),{minHeight:"auto"}),t.dense&&(0,G.Z)({minHeight:32,paddingTop:4,paddingBottom:4},s.typography.body2,(0,S.Z)({},"& .".concat(U.root," svg"),{fontSize:"1.25rem"})))})),$=n.forwardRef((function(e,a){var s=(0,P.Z)({props:e,name:"MuiMenuItem"}),t=s.autoFocus,o=void 0!==t&&t,r=s.component,d=void 0===r?"li":r,l=s.dense,c=void 0!==l&&l,g=s.divider,u=void 0!==g&&g,p=s.disableGutters,m=void 0!==p&&p,v=s.focusVisibleClassName,h=s.role,f=void 0===h?"menuitem":h,x=s.tabIndex,_=s.className,b=(0,A.Z)(s,Y),M=n.useContext(T.Z),D=n.useMemo((function(){return{dense:c||M.dense||!1,disableGutters:m}}),[M.dense,c,m]),Z=n.useRef(null);(0,q.Z)((function(){o&&Z.current&&Z.current.focus()}),[o]);var C,w=(0,G.Z)({},s,{dense:D.dense,divider:u,disableGutters:m}),j=function(e){var a=e.disabled,s=e.dense,t=e.divider,n=e.disableGutters,o=e.selected,i=e.classes,r={root:["root",s&&"dense",a&&"disabled",!n&&"gutters",t&&"divider",o&&"selected"]},d=(0,V.Z)(r,Q,i);return(0,G.Z)({},i,d)}(s),I=(0,z.Z)(Z,a);return s.disabled||(C=void 0!==x?x:-1),(0,i.jsx)(T.Z.Provider,{value:D,children:(0,i.jsx)(X,(0,G.Z)({ref:I,role:f,tabIndex:C,component:d,focusVisibleClassName:(0,F.Z)(j.focusVisible,v),className:(0,F.Z)(j.root,_)},b,{ownerState:w,classes:j}))})})),ee=s(4073),ae=s(7380),se=function(){var e=(0,v.CG)(h),a=(0,v.CG)(f),s=(0,v.CG)(x),d=(0,v.CG)(D.nT),l=(0,v.CG)(D.Pg),c=(0,v.CG)(_),S=((0,v.CG)(M),(0,v.CG)(b),(0,v.CG)(D.XD)),A=(0,p.s0)(),G=(0,n.useState)(10),F=(0,t.Z)(G,2),V=F[0],B=F[1],L=(0,n.useState)(""),P=(0,t.Z)(L,2),T=P[0],R=P[1],q=(0,v.TL)(),z=function(e,a){q((0,u.EF)(e,a))};(0,n.useEffect)((function(){return q((0,u.kp)()),function(){q((0,u.QR)())}}),[]);var H=function(a){q((0,u.rm)(a)),function(a){e.find((function(e){return e.id===a?q((0,u.s_)({photo:e.photos.large?e.photos.large:l,userName:e.userName,companionId:e.id})):console.log("sd")}))}(a),A("/dialogs/"+a)},E=(0,n.useState)([]),U=(0,t.Z)(E,2),K=U[0],W=U[1];(0,n.useEffect)((function(){var a=[];if(e.length>0)for(var s=0;s<(e.length>V?V:e.length);s++)a.push(e[s]);W(a),console.log(a)}),[e,s,V,T]);var Q=e[0]?K.map((function(e){return(0,i.jsx)(Z.ZP,{onClick:function(){H(e.id)},sx:{backgroundColor:"#151515",m:"5px 0 0 0","&:hover":{border:"1px solid rgba(200,150,0)",backgroundColor:"rgba(200,150,0,0.1)",cursor:"pointer"}},children:(0,i.jsx)(C.Z,{primary:e.userName})})})):(0,i.jsx)(m.OL,{to:"/users",children:"Search friends"}),J=a[0]?a.map((function(e){return(0,i.jsx)(r,{message:e.body,senderId:e.senderId,OwnerId:d,companionIcon:c,ownerPhoto:S,viewed:e.viewed,onDeleteMessageChange:z,messageId:e.id,recipientId:e.recipientId,defaultPhoto:l},e.id)})):(0,i.jsx)("div",{children:(0,i.jsx)("h3",{className:o.h3text,children:"start chatting first"})});return(0,i.jsxs)(w.Z,{display:"flex",flexDirection:{xs:"column",sm:"row"},children:[(0,i.jsxs)(j.Z,{display:{xs:"none",sm:"flex"},width:{xs:"100%",sm:"250px"},flexDirection:"column",children:[(0,i.jsxs)(I.Z,{children:[(0,i.jsxs)(Z.ZP,{onClick:function(){A("/users")},sx:{backgroundColor:"#151515",borderRadius:"5px 5px 0 0","&:hover":{border:"1px solid rgba(200,150,0)",backgroundColor:"rgba(200,150,0,0.1)",cursor:"pointer"}},children:[(0,i.jsx)(ee.Z,{color:"warning"}),(0,i.jsx)(C.Z,{primary:(0,i.jsx)(y.Z,{color:"#c89600",textAlign:"center",children:"add dialog"})})]}),Q]}),V<e.length&&(0,i.jsx)(Z.ZP,{onClick:function(){return B((function(e){return e+5}))},sx:{backgroundColor:"#151515",borderRadius:"0 0 5px 5px",justifyContent:"center",cursor:"pointer"},children:(0,i.jsx)(y.Z,{color:ae.r.palette.warning.main,children:"more..."})})]}),(0,i.jsxs)(O.Z,{color:"info",sx:{width:"95%",m:"0 2.5%",display:{xs:"auto",sm:"none"},"& .MuiOutlinedInput-root":{"& > fieldset":{border:"1px solid #D0D3D4"}},input:{color:"#D0D3D4"},label:{color:"#D0D3D4"},value:{color:"#D0D3D4"}},children:[(0,i.jsx)(k.Z,{id:"dialog-select-label",children:"Dialog"}),(0,i.jsxs)(N.Z,{color:"info",labelId:"dialog-select-label",id:"dialog-select",value:T,label:"Dialog",onChange:function(e){R(e.target.value),H(Number(e.target.value))},children:[" ",e.map((function(e){return(0,i.jsx)($,{value:e.id,sx:{backgroundColor:"#151515"},children:(0,i.jsx)(y.Z,{color:"#D0D3D4",children:e.userName})},e.id)}))]})]}),(0,i.jsxs)(w.Z,{display:"flex",flexDirection:"column",flexGrow:1,children:[(0,i.jsx)("div",{className:o.message,children:J}),(0,i.jsx)("div",{className:o.addMessage,children:(0,i.jsx)(g,{dialogId:s,onMessageSentChange:function(e,a){q((0,u.C7)(e,a))}})})]})]})},te=s(7781),ne=s(3502),oe=(0,te.qC)(ne.S)(se)},3502:function(e,a,s){s.d(a,{S:function(){return p}});var t=s(1413),n=s(5671),o=s(3144),i=s(136),r=s(7277),d=s(2791),l=s(8687),c=s(6871),g=s(184),u=function(e){return{isAuth:e.auth.isAuth}},p=function(e){var a=function(a){(0,i.Z)(d,a);var s=(0,r.Z)(d);function d(){return(0,n.Z)(this,d),s.apply(this,arguments)}return(0,o.Z)(d,[{key:"render",value:function(){return this.props.isAuth?(0,g.jsx)(e,(0,t.Z)({},this.props)):(0,g.jsx)(c.Fg,{to:"/login"})}}]),d}(d.Component);return(0,l.$j)(u)(a)}},4073:function(e,a,s){var t=s(4836);a.Z=void 0;var n=t(s(5649)),o=s(184),i=(0,n.default)((0,o.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM17 11h-4v4h-2v-4H7V9h4V5h2v4h4v2z"}),"AddComment");a.Z=i}}]);
//# sourceMappingURL=401.dbc85989.chunk.js.map