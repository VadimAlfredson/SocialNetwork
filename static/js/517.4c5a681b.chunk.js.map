{"version":3,"file":"static/js/517.4c5a681b.chunk.js","mappings":"oOACA,EAA6B,0BAA7B,EAAoE,0BAApE,EAA4G,2BAA5G,EAAqJ,2BAArJ,EAAgM,6BAAhM,EAA6O,6BAA7O,EAAqR,wBAArR,EAAsT,sBAAtT,EAA2V,4BAA3V,EAAoY,0B,SC+GpY,EAtGsB,SAACA,GACnB,IAAMC,GAASC,EAAAA,EAAAA,KAAe,SAAAC,GAAK,OAAIA,EAAMC,KAAKH,UAC5CI,GAAaH,EAAAA,EAAAA,KAAe,SAAAC,GAAK,OAAIA,EAAMC,KAAKC,cAChDC,GAAeJ,EAAAA,EAAAA,KAAe,SAAAC,GAAK,OAAIA,EAAMC,KAAKE,gBAClDC,GAAWC,EAAAA,EAAAA,MAEjB,GAA0BC,EAAAA,EAAAA,UAAiB,IAA3C,eAAON,EAAP,KAAcO,EAAd,KAIA,IAHAC,EAAAA,EAAAA,YAAU,WACNR,GAASG,EAAeI,EAASJ,GAAgBM,QAAQC,IAAI,eAC9D,CAACP,EAAcD,IACdJ,EACA,OAAO,SAAC,KAAD,CAAUa,GAAI,cAGzB,IAAMC,EAAmBC,EAAAA,KAAaC,MAAM,CACxCC,MAAOF,EAAAA,KAAaG,SAAS,YAAYD,MAAM,iBAAiBE,UAAU,iBAC1EC,SAAUL,EAAAA,KAAaG,SAAS,cAEpC,OAAO,SAAC,KAAD,CACHG,cAAe,CACXJ,MAAO,GACPG,SAAU,GACVE,UAAU,EACVC,QAAS,IAEbC,gBAAc,EACdC,SAAW,SAAAC,GAEPf,QAAQC,IAAIc,GACZpB,GAASqB,EAAAA,EAAAA,IAAkBD,EAAOT,MAAOS,EAAON,SAAUM,EAAOJ,SAAUI,EAAOH,WAEtFT,iBAAkBA,EAbf,SAeF,gBACKY,EADL,EACKA,OACAE,EAFL,EAEKA,OACAC,EAHL,EAGKA,QACAC,EAJL,EAIKA,WACAC,EALL,EAKKA,aACAC,EANL,EAMKA,QACAC,EAPL,EAOKA,aACAC,EARL,EAQKA,MARL,OAUG,4BACI,gBAAKC,UAAWC,EAAhB,SAAkD,IAAhB/B,EAA+BA,EAAT,QACxD,kBACI8B,UAAWN,EAAQZ,OAASW,EAAOX,MAAQmB,EAAgBA,EAC3DC,KAAM,QACNC,KAAM,QACNC,SAAUR,EACVS,OAAQV,EACRW,MAAOf,EAAOT,MACdyB,YAAa,UACdb,EAAQZ,OAASW,EAAOX,QAAS,cAAGkB,UAAWC,EAAd,SAAyBR,EAAOX,SAAW,mBAC/E,kBACIkB,UAAYN,EAAQT,UAAYQ,EAAOR,SAAYgB,EAAgBA,EACnEC,KAAM,WACNC,KAAM,WACNC,SAAUR,EACVS,OAAQV,EACRW,MAAOf,EAAON,SACdsB,YAAa,aACdb,EAAQT,UAAYQ,EAAOR,WAAY,cAAGe,UAAWC,EAAd,SAAyBR,EAAOR,YAAc,mBACxF,gBAAKe,UAAWC,EAAhB,UACI,gBAAKD,UAAWC,EAAhB,UACI,kBACIC,KAAM,WACNC,KAAM,WACNC,SAAUR,EACVS,OAAQV,SAKpB,kBACC1B,IACG,4BACI,gBAAK+B,UAAWC,EAAcO,IAAKvC,KACnC,kBAEIiC,KAAM,OACNC,KAAM,UACNC,SAAUR,EACVS,OAAQV,EACRW,MAAOf,EAAOH,WAChB,sBAGV,mBACIY,UAAYN,EAAQZ,QAAUW,EAAOX,OAASY,EAAQT,WAAaQ,EAAOR,SAAYgB,EAAgBA,EACtGQ,UAAWZ,IAAYE,EACvBW,QAAS,WACLZ,KAEJI,KAAM,SANV,2BClFhB,EAZc,WACV,OAAO,iBAAKF,UAAWC,EAAhB,WACP,oCACA,SAAC,EAAD,KAEI,4BACI,wDACA","sources":["webpack://react-vadim/./src/components/login/login.module.css?e6ba","components/login/formLogin.tsx","components/login/login.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"loginBlock\":\"login_loginBlock__GrLby\",\"inputLogin\":\"login_inputLogin__rVtz0\",\"errorsInput\":\"login_errorsInput__H32qx\",\"buttonLogin\":\"login_buttonLogin__-NSsZ\",\"buttonDisable\":\"login_buttonDisable__TOL7c\",\"checkboxBlock\":\"login_checkboxBlock__YB3NM\",\"checkbox\":\"login_checkbox__uPAX8\",\"errors\":\"login_errors__YOsLk\",\"messageError\":\"login_messageError__ob3Ev\",\"imgCaptcha\":\"login_imgCaptcha__s2fvW\"};","import React, {FC, useEffect, useState} from \"react\";\r\nimport {Formik} from \"formik\";\r\nimport * as yup from \"yup\";\r\nimport {connect} from \"react-redux\";\r\nimport {loginThunkCreator} from \"../../Redux/auth_reducers\";\r\nimport {Navigate} from \"react-router-dom\";\r\nimport {RootState, useAppDispatch, useAppSelector} from \"../../Redux/reduxStore\";\r\nimport s from './login.module.css';\r\n\r\n\r\nconst LoginForm: FC = (props) => {\r\n    const isAuth = useAppSelector(state => state.auth.isAuth)\r\n    const captchaURL = useAppSelector(state => state.auth.captchaURL)\r\n    const messageError = useAppSelector(state => state.auth.messageError)\r\n    const dispatch = useAppDispatch()\r\n    \r\n    const [state, setState] = useState<string>('')\r\n    useEffect(() => {\r\n        state != messageError ? setState(messageError) : console.log('useEffect')\r\n    }, [messageError, captchaURL])\r\n    if (isAuth) {\r\n        return <Navigate to={\"/profile/\"}/>\r\n    }\r\n\r\n    const validationSchema = yup.object().shape({\r\n        email: yup.string().required('Required').email('Invalid email').typeError('Invalid email'),\r\n        password: yup.string().required('Required')\r\n    })\r\n    return <Formik\r\n        initialValues={{\r\n            email: '',\r\n            password: '',\r\n            checkbox: false,\r\n            captcha: '',\r\n        }}\r\n        validateOnBlur\r\n        onSubmit={(values => {\r\n            debugger\r\n            console.log(values)\r\n            dispatch(loginThunkCreator(values.email, values.password, values.checkbox, values.captcha))\r\n        })}\r\n        validationSchema={validationSchema}\r\n    >\r\n        {({\r\n              values,\r\n              errors,\r\n              touched,\r\n              handleBlur,\r\n              handleChange,\r\n              isValid,\r\n              handleSubmit,\r\n              dirty\r\n          }) => (\r\n            <div>\r\n                <div className={s.messageError}>{(messageError != '' || null) && messageError}</div>\r\n                <input\r\n                    className={touched.email && errors.email ? s.errorsInput : s.inputLogin}\r\n                    type={'email'}\r\n                    name={'email'}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.email}\r\n                    placeholder={'email'}\r\n                />{touched.email && errors.email && <p className={s.errors}>{errors.email}</p>}<br/>\r\n                <input\r\n                    className={(touched.password && errors.password) ? s.errorsInput : s.inputLogin}\r\n                    type={'password'}\r\n                    name={'password'}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.password}\r\n                    placeholder={'password'}\r\n                />{touched.password && errors.password && <p className={s.errors}>{errors.password}</p>}<br/>\r\n                <div className={s.checkboxBlock}>\r\n                    <div className={s.checkbox}>\r\n                        <input\r\n                            type={'checkbox'}\r\n                            name={'checkbox'}\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}\r\n                            /*value={values.checkbox}*/\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <br/>\r\n                {captchaURL &&\r\n                    <div>\r\n                        <img className={s.imgCaptcha} src={captchaURL}/>\r\n                        <input\r\n                            /*className={touched.captcha && errors.captcha ? s.errorsInput : s.inputLogin}*/\r\n                            type={'text'}\r\n                            name={'captcha'}\r\n                            onChange={handleChange}\r\n                            onBlur={handleBlur}\r\n                            value={values.captcha}\r\n                        /><br/>\r\n                    </div>\r\n                }\r\n                <button\r\n                    className={(touched.email && !errors.email && touched.password && !errors.password) ? s.buttonLogin : s.buttonDisable}\r\n                    disabled={!isValid && !dirty}\r\n                    onClick={() => {\r\n                        handleSubmit()\r\n                    }}\r\n                    type={'submit'}\r\n                >log in\r\n                </button>\r\n            </div>\r\n        )}\r\n    </Formik>\r\n};\r\n\r\nexport default LoginForm\r\n","import React from 'react';\r\nimport LoginForm from \"./formLogin\";\r\nimport s from './login.module.css';\r\n\r\nconst Login = () => {\r\n    return <div className={s.loginBlock}>\r\n    <h3>Log in</h3>\r\n    <LoginForm />\r\n\r\n        <div>\r\n            <div>Email: free@samuraijs.com</div>\r\n            <div>Password: free</div>\r\n        </div>\r\n    </div>\r\n};\r\n\r\nexport default Login"],"names":["props","isAuth","useAppSelector","state","auth","captchaURL","messageError","dispatch","useAppDispatch","useState","setState","useEffect","console","log","to","validationSchema","yup","shape","email","required","typeError","password","initialValues","checkbox","captcha","validateOnBlur","onSubmit","values","loginThunkCreator","errors","touched","handleBlur","handleChange","isValid","handleSubmit","dirty","className","s","type","name","onChange","onBlur","value","placeholder","src","disabled","onClick"],"sourceRoot":""}